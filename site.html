<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Eletromagnetismo e Leis de Maxwell</title>

    <style>
        /* --- Configura√ß√£o Geral (Fundo e Fonte) --- */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            padding: 0; 
            background-color: #f0f2f5; 
            color: #333;
            line-height: 1.7;
        }

        /* --- O Container Principal (A parte branca centralizada) --- */
        .content-container {
            max-width: 900px;
            margin: 30px auto; /* Centraliza o container na tela (auto nas laterais) */
            padding: 20px 40px; 
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        /* --- Estilos do Cabe√ßalho e T√≠tulos --- */
        header {
            text-align: center;
            padding-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
        }

        header h1 {
            font-size: 2.8em;
            color: #2c3e50;
            margin: 0;
        }

        header p {
            font-size: 1.2em;
            color: #555;
            margin-top: 10px;
        }

        /* T√≠tulos de cada se√ß√£o (H2) */
        .simulation-entry h2 {
            font-size: 2em;
            color: #2c3e50;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
            margin-top: 40px;
        }

        /* --- Estilo das Se√ß√µes de Simula√ß√£o (Imagem e Texto) --- */
        .simulation-entry {
            margin-bottom: 40px;
        }

        .simulation-entry img {
            width: 100%;
            height: auto;
            border-radius: 5px;
            border: 1px solid #eee;
            margin-top: 15px;
            background-color: #fafafa;
        }

        .simulation-entry p {
            font-size: 1.1em;
            color: #222;
            text-align: justify;
        }

        /* --- Estilo para Equa√ß√µes (Novo) --- */
        .equation {
            text-align: center; /* Centraliza a equa√ß√£o */
            font-size: 1.2em;   /* Aumenta um pouco o tamanho */
            margin: 25px 0;     /* Adiciona espa√ßo vertical */
            overflow-x: auto;   /* Adiciona rolagem horizontal se for muito larga */
            padding: 10px 0;
        }

        /* --- Estilo do Rodap√© --- */
        footer {
            text-align: center;
            padding: 20px;
            font-size: 0.9em;
            color: #888;
        }
        
        /* --- Estilos do Assistente Virtual --- */

        .assistant-container {
            position: fixed; /* Fica fixo na tela */
            top: 50%; /* Centraliza verticalmente */
            right: 0; /* Come√ßa colado √† direita */
            transform: translateY(-50%);
            width: 300px;
            height: auto;
            max-height: 80vh;
            background-color: #fff;
            border: 1px solid #ddd;
            border-right: none;
            border-radius: 10px 0 0 10px;
            box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.4s ease-in-out;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        /* Estilo "Minimizado" */
        .assistant-container.minimized {
            right: -300px; /* Esconde o container, deixando s√≥ o bot√£o */
        }

        /* Bot√£o de Minimizar/Maximizar */
        .assistant-toggle {
            position: absolute;
            left: -40px; /* Fica para fora do container */
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 60px;
            background-color: #2c3e50;
            color: white;
            border: none;
            border-radius: 10px 0 0 10px;
            cursor: pointer;
            font-size: 1.5em;
            line-height: 60px;
            text-align: center;
        }

        /* Cabe√ßalho do Assistente */
        .assistant-header {
            padding: 15px;
            background-color: #2c3e50;
            color: white;
            border-radius: 8px 0 0 0;
            text-align: center;
            display: flex; /* Para alinhar a imagem e o texto */
            align-items: center; /* Centraliza verticalmente os itens */
            gap: 10px; /* Espa√ßo entre a imagem e o texto */
        }
        .assistant-header img {
            width: 50px; /* Tamanho da imagem do professor */
            height: 50px;
            border-radius: 50%; /* Deixa a imagem redonda */
            border: 2px solid white;
            object-fit: cover; /* Garante que a imagem preencha o espa√ßo */
        }
        .assistant-header div { /* Wrapper para o texto do cabe√ßalho */
            flex-grow: 1; /* Permite que o texto ocupe o espa√ßo restante */
        }
        .assistant-header h3 {
            margin: 0;
            font-size: 1.3em;
        }
        .assistant-header p {
            margin: 5px 0 0;
            font-size: 0.9em;
            opacity: 0.8;
        }

        /* Corpo do Chat */
        .assistant-body {
            flex-grow: 1;
            overflow-y: auto; /* Permite rolagem se o conte√∫do for grande */
            padding: 15px;
        }

        /* T√≥picos para sele√ß√£o */
        .assistant-topics {
            display: flex;
            flex-direction: column;
            gap: 8px; /* Espa√ßo entre os bot√µes */
            margin-bottom: 15px;
        }

        .assistant-topics button {
            background-color: #f0f2f5;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            text-align: left;
            font-size: 0.95em;
            font-family: inherit;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .assistant-topics button:hover {
            background-color: #e0e4e8;
        }

        /* Caixa de mensagem do assistente */
        #assistant-message-box {
            margin-top: 10px;
            padding: 12px;
            background-color: #e9f5ff;
            border: 1px solid #b8d4fe;
            border-radius: 8px;
            font-size: 0.95em;
            line-height: 1.5;
            min-height: 50px;
            color: #333;
        }

        /* --- Ajuste para Telas Pequenas (Celulares) --- */
        @media (max-width: 768px) {
            body {
                padding: 0; /* Remove o padding em telas pequenas */
            }

            .content-container {
                margin: 10px auto;
                padding: 15px 20px;
                width: 90%;
            }

            header h1 {
                font-size: 2.0em;
            }

            .simulation-entry h2 {
                font-size: 1.6em;
            }

            /* Em celulares, o assistente fica na parte inferior */
            .assistant-container {
                width: 100%;
                max-height: 40vh;
                top: auto;
                bottom: 0;
                right: 0;
                transform: translateY(0);
                border-radius: 10px 10px 0 0;
                border: 1px solid #ddd;
                border-bottom: none;
            }
            .assistant-container.minimized {
                right: 0;
                bottom: -38vh; /* Esconde quase tudo, deixando s√≥ o topo */
            }
            .assistant-toggle {
                /* O bot√£o vira o pr√≥prio cabe√ßalho */
                position: static;
                width: 100%;
                height: auto;
                border-radius: 0;
                left: 0;
                transform: none;
                padding: 10px;
                font-size: 1.2em;
                display: flex; /* Para alinhar o √≠cone e o texto no celular */
                justify-content: center; /* Centraliza horizontalmente */
                align-items: center; /* Centraliza verticalmente */
                gap: 10px; /* Espa√ßo entre o √≠cone e o texto */
            }
            .assistant-toggle::before { /* Adiciona o √≠cone do professor no bot√£o de toggle */
                content: '';
                display: inline-block;
                width: 30px;
                height: 30px;
                background-image: url('imgs/professor.png'); /* Imagem padr√£o do professor */
                background-size: cover;
                border-radius: 50%;
                border: 1px solid white;
            }
            .assistant-toggle.minimized::before {
                background-image: url('imgs/professor.png'); /* Mant√©m a imagem padr√£o quando minimizado */
            }
            .assistant-toggle.speaking::before {
                background-image: url('imgs/professor_falando.png'); /* Imagem do professor falando */
            }

            .assistant-header {
                display: none; /* Esconde o cabe√ßalho original em mobile quando o toggle assume a fun√ß√£o */
            }
        }
    </style>

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <main class="content-container">
        
        <header>
            <h1>Eletromagnetismo e as Leis de Maxwell</h1>
            <p>Uma an√°lise visual atrav√©s de simula√ß√µes</p>
        </header>

        <div class="simulation-entry">
            <h2>0. Aplica√ß√£o Pr√°tica: Antenas</h2>
            <p>
                As antenas s√£o dispositivos projetados para transmitir ou receber ondas
                eletromagn√©ticas, baseando-se diretamente nos princ√≠pios de campos
                el√©tricos e magn√©ticos vari√°veis.
            </p>
            <img src="imgs/antena.gif" alt="Simula√ß√£o de Antena">
            <p>
                Esta √© uma simula√ß√£o de uma antena parab√≥lica irradiando ondas. O sinal √© gerado no "feed horn" (ponto focal) e refletido pelo prato, que o concentra em um feixe estreito direcionado √† antena receptora. A transmiss√£o se baseia em correntes el√©tricas oscilantes que geram campos el√©tricos e magn√©ticos vari√°veis, os quais se propagam como ondas.
            </p>
            <img src="imgs/atenua√ß√£o.png" alt="Simula√ß√£o de Atenua√ß√£o">
            <p>
                Nesta imagem, vemos a atenua√ß√£o, um fen√¥meno fundamental. √Ä medida que a onda se propaga pelo espa√ßo, sua energia se espalha por uma √°rea cada vez maior. Com isso, a intensidade do sinal (pot√™ncia por √°rea) diminui com o quadrado da dist√¢ncia (raio). √â por isso que sinais de torres distantes chegam t√£o fracos.
            </p>
            <p>O ru√≠do em uma transmiss√£o entre antenas n√£o vem diretamente das Leis de Maxwell, mas pode ser explicado por elas.

            As equa√ß√µes de Maxwell descrevem como os campos el√©tricos e magn√©ticos se propagam ‚Äî de forma determin√≠stica, sem ru√≠do.
            Na pr√°tica, o ru√≠do aparece por causa de flutua√ß√µes t√©rmicas, interfer√™ncias externas e imperfei√ß√µes dos circuitos, que atuam como fontes aleat√≥rias dentro das equa√ß√µes.

            Assim, o ru√≠do n√£o √© criado pelas leis de Maxwell, mas se propaga atrav√©s delas, do mesmo modo que o sinal √∫til. Uma forma de representar isso na Lei de Amp√®re-Maxwell √© separando as fontes de corrente:
            </p>

            <div class="equation">
                $$ \nabla \times \mathbf{H} = \mathbf{J}_{\text{determin√≠stica}} + \mathbf{J}_{\text{ru√≠do}} + \frac{\partial \mathbf{D}}{\partial t} $$
            </div>

            <p>
                Onde J_determin√≠stica √© o sinal que queremos enviar, e J_ru√≠do representa todas as 
                fontes de corrente aleat√≥rias e indesejadas (ru√≠do t√©rmico, interfer√™ncia, etc.).
            </p>

            <img src="imgs/sinal100m.png" alt="Sinal com ru√≠do a curta dist√¢ncia">
            <p>
                Aqui, vemos o sinal recebido a uma dist√¢ncia de 100m. Ele √© claro e facilmente distingu√≠vel 
                do ru√≠do de fundo (as flutua√ß√µes aleat√≥rias menores). O ru√≠do √© uma interfer√™ncia 
                eletromagn√©tica inevit√°vel, gerada por fontes naturais e artificiais. A qualidade 
                da recep√ß√£o depende da Rela√ß√£o Sinal-Ru√≠do (SNR): o sinal deve ser muito mais forte
                 que o ru√≠do para ser decodificado.
            </p>
            <img src="imgs/sinal1000m.png" alt="Sinal com ru√≠do a longa dist√¢ncia">
            <p>
                Quando a dist√¢ncia aumenta significativamente, para 1km, o sinal fica muito mais 
                fraco devido √† atenua√ß√£o. O n√≠vel de ru√≠do, no entanto, permanece o mesmo. Como resultado,
                o sinal (pico) mal se destaca do ru√≠do. A Rela√ß√£o Sinal-Ru√≠do (SNR) fica muito baixa, 
                tornando a comunica√ß√£o dif√≠cil ou imposs√≠vel.
            </p>
            <p>
                No pr√≥ximo caso, a antena receptora est√° a 10km da transmissora e o sinal se torna 
                imposs√≠vel de ser lido, j√° que a amplitude foi muito atenuada e os ru√≠dos se sobressaem.
            </p>
            <img src="imgs/sinal10km.png" alt="Sinal com ru√≠do a curta dist√¢ncia">
        </div>

        <div class="simulation-entry">
            <h2>1. Lei de Gauss para Eletricidade</h2>
            <p>
                A primeira lei de Maxwell descreve como cargas el√©tricas criam campos el√©tricos.
                O fluxo do campo el√©trico atrav√©s de uma superf√≠cie fechada √© proporcional √†
                carga el√©trica total contida nessa superf√≠cie.
            </p>
            <img src="imgs/gauss_eletricidade.png" alt="Simula√ß√£o da Lei de Gauss">
            <p>
                Nesta simula√ß√£o, vemos as linhas de campo el√©trico (setas) emanando de uma 
                carga positiva (fonte). A Lei de Gauss nos diz que o n√∫mero total de linhas 
                que atravessam uma superf√≠cie imagin√°ria (como a esfera pontilhada) √© diretamente 
                proporcional √† quantidade de carga (+q) dentro dela. Se a carga fosse negativa, 
                as linhas apontariam para dentro.
            </p>
            <div class="equation">
                $$ \nabla \cdot \mathbf{E} = \frac{\rho}{\varepsilon_0} $$
            </div>
            <p>
                Esta f√≥rmula diz que o fluxo do campo el√©trico (<strong>ùêÑ</strong>) saindo de um volume
                √© proporcional √† densidade de carga el√©trica <strong>œÅ</strong> dentro dele.
                Em outras palavras, cargas positivas ‚Äúemanam‚Äù linhas de campo e cargas negativas as ‚Äúabsorvem‚Äù.
            </p>
            <p>
                Esse mesmo princ√≠pio √© aplicado nas antenas transmissoras. Quando a corrente alternada oscila dentro do condutor,
                ela faz as cargas se acumularem e se redistribu√≠rem periodicamente nas extremidades da antena. Cada varia√ß√£o de
                carga cria e retira linhas de campo el√©trico, como prev√™ a Lei de Gauss. √â essa altern√¢ncia cont√≠nua de campos
                el√©tricos e magn√©ticos que d√° origem √†s ondas eletromagn√©ticas que se propagam pelo espa√ßo.
            </p>
        </div>

        <div class="simulation-entry">
            <h2>2. Lei de Gauss para Magnetismo</h2>
            <p>
                Esta lei afirma que n√£o existem "monopolos magn√©ticos" (cargas magn√©ticas isoladas,
                como um "norte" sem um "sul"). O fluxo magn√©tico total atrav√©s de qualquer
                superf√≠cie fechada √© sempre zero.
            </p>
            <img src="imgs/magnetico.png" alt="Simula√ß√£o de linhas de campo magn√©tico">
            <p>
                A simula√ß√£o ilustra um √≠m√£ permanente (ou uma antena, que tamb√©m gera o campo). 
                Observe como as linhas de campo magn√©tico sempre formam loops fechados: elas 
                saem do polo norte e entram no polo sul, continuando *por dentro* do material. 
                Qualquer superf√≠cie fechada que voc√™ desenhar ter√° o mesmo n√∫mero de linhas 
                "entrando" e "saindo", resultando em um fluxo l√≠quido zero.
            </p>
            <div class="equation">
                $$ \nabla \cdot \mathbf{B} = 0 $$
            </div>
            <p>
                O campo magn√©tico (<strong>ùêÅ</strong>) nunca tem come√ßo nem fim ‚Äî suas linhas
                s√£o sempre fechadas. Isso significa que n√£o existem monopolos magn√©ticos isolados.
            </p>

        </div>

        <div class="simulation-entry">
            <h2>3. Lei de Faraday da Indu√ß√£o</h2>
            <p>
                A terceira lei √© fundamental para a gera√ß√£o de eletricidade. Ela descreve como um
                campo magn√©tico vari√°vel no tempo (ou um movimento atrav√©s dele) pode
                "induzir" uma corrente el√©trica em um circuito.
            </p>
            <img src="imgs/lampada.gif" alt="Simula√ß√£o da Lei de Faraday">
            <p>
                Observe que a l√¢mpada neon acende *sem* estar fisicamente conectada √† antena. 
                A antena transmissora cria uma onda eletromagn√©tica (um campo magn√©tico e 
                el√©trico vari√°vel). Quando essa onda atravessa o circuito da l√¢mpada, o 
                campo magn√©tico vari√°vel induz uma voltagem (uma "for√ßa eletromotriz") no 
                fio, for√ßando os el√©trons a se moverem e acendendo a l√¢mpada. √â o princ√≠pio da indu√ß√£o!
            </p>
            <div class="equation">
                $$ \nabla \times \mathbf{E} = -\frac{\partial \mathbf{B}}{\partial t} $$
            </div>
            <p>
                Um campo magn√©tico (<strong>ùêÅ</strong>) que varia no tempo gera um campo el√©trico 
                rotacional (<strong>ùêÑ</strong>). √â o princ√≠pio da indu√ß√£o: quando o fluxo magn√©tico
                muda, surge uma tens√£o (for√ßa eletromotriz) em um circuito.
            </p>
        </div>

        <div class="simulation-entry">
            <h2>4. Lei de Amp√®re-Maxwell</h2>
            <p>
                Esta lei unifica eletricidade e magnetismo. Ela afirma que campos magn√©ticos
                s√£o gerados por duas fontes: correntes el√©tricas (Lei de Amp√®re) e campos
                el√©tricos vari√°veis no tempo (a corre√ß√£o genial de Maxwell).
            </p>
            <img src="imgs/antena.gif" alt="Simula√ß√£o da Lei de Amp√®re-Maxwell">
            <p>
                A simula√ß√£o da antena √© um exemplo perfeito. A corrente el√©trica que oscila 
                no metal da antena (um fio) cria um campo magn√©tico ao seu redor (Lei de Amp√®re). 
                Ao mesmo tempo, essa oscila√ß√£o acumula e retira cargas das pontas, criando um 
                campo el√©trico que varia rapidamente no tempo. A genialidade de Maxwell foi 
                perceber que *ambas* as fontes geram o campo magn√©tico. √â essa interdepend√™ncia 
                que permite √† onda "se soltar" e viajar.
            </p>
            <div class="equation">
                $$ \nabla \times \mathbf{B} = \mu_0 \mathbf{J} + \mu_0 \varepsilon_0 \frac{\partial \mathbf{E}}{\partial t} $$
            </div>
            <p>
                Um campo magn√©tico (<strong>ùêÅ</strong>) pode ser gerado por correntes el√©tricas
                (<strong>ùêâ</strong>) ou por campos el√©tricos que variam no tempo.
                O segundo termo, adicionado por Maxwell, explica como ondas eletromagn√©ticas
                podem se propagar mesmo no v√°cuo.
            </p>
        </div>

        <div class="simulation-entry">
            <h2>5. A S√≠ntese: Ondas Eletromagn√©ticas</h2>
            <p>
                A consequ√™ncia mais profunda das equa√ß√µes de Maxwell √© a previs√£o da
                exist√™ncia de ondas eletromagn√©ticas (como a luz) que se propagam
                no v√°cuo na velocidade da luz.
            </p>
            <img src="imgs/onda_eletromagnetica_3d.gif" alt="Simula√ß√£o de Onda Eletromagn√©tica">
            <p>
                Este GIF mostra o campo el√©trico (E) e o campo magn√©tico (B) oscilando. 
                Eles s√£o perpendiculares entre si e ambos s√£o perpendiculares √† dire√ß√£o 
                de propaga√ß√£o. Um campo E vari√°vel gera um campo B, que por sua vez 
                gera um campo E.
            </p>
        </div>

    </main>

    <footer>
        <p>¬© 2025 - Pedro Sandrini</p>
    </footer>

    <aside class="assistant-container" id="assistant">
        
        <button class="assistant-toggle" id="assistant-toggle-btn" aria-label="Alternar assistente">
            ¬´
        </button>
        
        <div class="assistant-header">
            <img src="imgs/professor.png" alt="Professor Maxwell">
            <div>
                <h3>Professor Maxwell</h3>
                <p>Seu tutor de Eletromagnetismo</p>
            </div>
        </div>

        <div class="assistant-body">
            
            <p style="text-align: center; margin-top: 0;">Ol√°! Selecione um t√≥pico para um resumo em √°udio:</p>

            <div class="assistant-topics">
                <button data-topic="antenas">0. Aplica√ß√£o: Antenas</button>
                <button data-topic="gauss-eletro">1. Lei de Gauss (Eletricidade)</button>
                <button data-topic="gauss-mag">2. Lei de Gauss (Magnetismo)</button>
                <button data-topic="faraday">3. Lei de Faraday</button>
                <button data-topic="ampere">4. Lei de Amp√®re-Maxwell</button>
                <button data-topic="ondas">5. Ondas Eletromagn√©ticas</button>
            </div>

            <div id="assistant-message-box">
                Aguardando sua sele√ß√£o...
            </div>

        </div>

    </aside>


    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- 1. Elementos do DOM ---
            const assistant = document.getElementById('assistant');
            const toggleBtn = document.getElementById('assistant-toggle-btn');
            const messageBox = document.getElementById('assistant-message-box');
            const topicButtons = document.querySelectorAll('.assistant-topics button');
            const professorImg = document.querySelector('.assistant-header img'); // Seleciona a imagem do professor
            const mobileToggleIcon = document.querySelector('.assistant-toggle::before');

            // Verifica se a API de Fala √© suportada
            const synth = window.speechSynthesis;
            if (!synth) {
                messageBox.textContent = "Seu navegador n√£o suporta a API de fala. Os resumos em texto ainda funcionar√£o.";
            }

            // --- 2. Textos de Resumo para cada T√≥pico ---
            const topicSummaries = {
                'gauss-eletro': "A Lei de Gauss para eletricidade diz que cargas el√©tricas criam campos el√©tricos. O fluxo el√©trico total atrav√©s de uma superf√≠cie fechada √© proporcional √† carga l√≠quida dentro dela. Cargas positivas s√£o fontes de campo, e cargas negativas s√£o sumidouros.",
                'gauss-mag': "A Lei de Gauss para o magnetismo √© simples: o fluxo magn√©tico total atrav√©s de qualquer superf√≠cie fechada √© sempre zero. Isso significa que n√£o existem monopolos magn√©ticos, ou seja, voc√™ nunca encontrar√° um polo norte ou sul isolado. Linhas de campo magn√©tico sempre formam loops fechados.",
                'faraday': "A Lei de Faraday √© a base dos geradores. Ela afirma que um campo magn√©tico variando no tempo induz um campo el√©trico circulante, que por sua vez pode criar uma corrente el√©trica em um fio. √â assim que a energia √© transferida sem fios, como no GIF da l√¢mpada.",
                'ampere': "A Lei de Amp√®re-Maxwell unifica tudo. Ela diz que um campo magn√©tico pode ser criado de duas maneiras: por correntes el√©tricas comuns, como em um fio, ou por um campo el√©trico que varia no tempo. Essa segunda parte, a 'corrente de deslocamento' de Maxwell, √© o que permite que as ondas eletromagn√©ticas existam.",
                'ondas': "As ondas eletromagn√©ticas s√£o a grande s√≠ntese das leis. Elas s√£o campos el√©tricos e magn√©ticos oscilantes que se autossustentam e viajam pelo v√°cuo na velocidade da luz. Um campo el√©trico vari√°vel cria um magn√©tico, que cria um el√©trico, e assim por diante. Luz, r√°dio, Wi-Fi e raios-X s√£o todos tipos de ondas eletromagn√©ticas.",
                'antenas': "Antenas s√£o aplica√ß√µes pr√°ticas das leis. Para transmitir, uma corrente oscilante gera ondas eletromagn√©ticas. Para receber, a onda que chega induz uma corrente na antena. A qualidade do sinal depende da atenua√ß√£o, que √© o enfraquecimento do sinal com a dist√¢ncia, e da Rela√ß√£o Sinal-Ru√≠do, que compara a for√ßa do sinal com o ru√≠do de fundo."
            };

            // --- 3. Fun√ß√£o para Falar (Text-to-Speech) ---
            function speak(text) {
                if (!synth) return; // N√£o faz nada se a API n√£o for suportada

                // Cancela qualquer fala anterior
                synth.cancel();

                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'pt-BR'; // Define o idioma para Portugu√™s do Brasil
                utterance.rate = 1.0; // Velocidade da fala
                utterance.pitch = 1.0; // Tom da fala

                // Eventos para mudar a imagem do professor
                utterance.onstart = () => {
                    if (professorImg) professorImg.src = 'imgs/professor_falando.png';
                    // Para mobile, adiciona classe para mudar o background-image
                    if (window.innerWidth <= 768) {
                        toggleBtn.classList.add('speaking');
                    }
                };
                utterance.onend = () => {
                    if (professorImg) professorImg.src = 'imgs/professor.png';
                    // Para mobile, remove a classe
                    if (window.innerWidth <= 768) {
                        toggleBtn.classList.remove('speaking');
                    }
                };
                utterance.onerror = (event) => {
                    console.error('SpeechSynthesisUtterance.onerror', event);
                    if (professorImg) professorImg.src = 'imgs/professor.png'; // Volta √† imagem normal em caso de erro
                    if (window.innerWidth <= 768) {
                        toggleBtn.classList.remove('speaking');
                    }
                };

                // Inicia a fala
                synth.speak(utterance);
            }

            // --- 4. Fun√ß√£o para Lidar com o Clique no T√≥pico ---
            function handleTopicClick(event) {
                const topicKey = event.target.dataset.topic;
                const summaryText = topicSummaries[topicKey];

                if (summaryText) {
                    // Atualiza a caixa de mensagem
                    messageBox.textContent = summaryText;
                    
                    // Fala o texto
                    speak(summaryText);
                }
            }

            // --- 5. Fun√ß√£o para Alternar o Assistente (Minimizar/Maximizar) ---
            function toggleAssistant() {
                assistant.classList.toggle('minimized');
                
                // Muda o √≠cone do bot√£o
                if (assistant.classList.contains('minimized')) {
                    toggleBtn.textContent = '¬ª';
                    toggleBtn.setAttribute('aria-label', 'Maximizar assistente');
                    synth.cancel(); // Para a fala se o painel for fechado
                    if (professorImg) professorImg.src = 'imgs/professor.png'; // Volta √† imagem normal
                    if (window.innerWidth <= 768) {
                        toggleBtn.classList.remove('speaking'); // Garante que a imagem de falando n√£o fique presa
                    }
                } else {
                    toggleBtn.textContent = '¬´';
                    toggleBtn.setAttribute('aria-label', 'Minimizar assistente');
                }
            }

            // --- 6. Adiciona os Event Listeners ---
            toggleBtn.addEventListener('click', toggleAssistant);
            topicButtons.forEach(button => {
                button.addEventListener('click', handleTopicClick);
            });

            // Para garantir que a imagem inicial do professor seja exibida
            if (professorImg) professorImg.src = 'imgs/professor.png';

        });
    </script>

</body>
</html>